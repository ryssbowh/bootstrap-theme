!function(e){function n(n){for(var i,s,a=n[0],l=n[1],d=n[2],u=0,c=[];u<a.length;u++)s=a[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&c.push(r[s][0]),r[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(f&&f(n);c.length;)c.shift()();return o.push.apply(o,d||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],i=!0,a=1;a<t.length;a++){var l=t[a];0!==r[l]&&(i=!1)}i&&(o.splice(n--,1),e=s(s.s=t[0]))}return e}var i={},r={0:0},o=[];function s(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=i,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)s.d(t,i,function(n){return e[n]}.bind(null,i));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=n,a=a.slice();for(var d=0;d<a.length;d++)n(a[d]);var f=l;o.push(["fNpb",1]),t()}({"5ADF":function(e,n,t){},fNpb:function(e,n,t){"use strict";t.r(n);t("tkto"),t("2B1R"),t("sMBO"),t("yq1k"),t("JTJg"),t("rB9j"),t("EnZy"),t("fbCW"),t("07d7"),t("+2oP"),t("pjDv"),t("PKPk"),t("pNMO"),t("4Brf"),t("0oug"),t("4mDm"),t("3bBZ"),t("J30X");var i=t("t2rG"),r=t.n(i);t("5ADF");function o(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw o}}}}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}document.addEventListener("register-form-fields-components",(function(e){e.detail["bootstrap-zones"]={template:'\n            <div class="field bootstrap-zones" :id="\'field-\' + name">\n                <div class="heading" v-if="definition.label">\n                    <label :class="{required: definition.required ?? false}">{{ definition.label }}</label>\n                    <a href="#" @click.prevent="showHidden = !showHidden">{{ showHidden ? \'Hide hidden\' : \'Show hidden\'}}</a>\n                </div>\n                <div class="instructions" v-if="definition.instructions" v-html="definition.instructions">\n                </div>\n                <div class="zones-wrapper">\n                    <div v-for="label, zone in definition.zones" class="zone" :style="sizeStyle">\n                        <label>{{ label }}</label>\n                        <draggable\n                            item-key="uid"\n                            :list="items[zone]"\n                            group="displays"\n                            handle=".move"\n                            class="zone-displays"\n                        >\n                            <template #item="{element}">\n                                <div :class="{item: true, opaque: element.hidden}" v-show="showHidden || !element.hidden">\n                                    <span class="move icon"></span> {{ element.name }}\n                                </div>\n                            </template>\n                        </draggable>\n                    </div>\n                </div>\n                <p v-if="definition.tip" class="notice with-icon" v-html="definition.tip">\n                </p>\n                <p v-if="definition.warning" class="warning with-icon" v-html="definition.warning">\n                </p>\n                <ul class="errors" v-if="errors">\n                    <li class="error" v-for="error, index in errors" v-bind:key="index">\n                        {{ error }}\n                    </li>\n                </ul>\n            </div>',props:{value:Object,definition:Object,errors:Array,name:String},computed:{sizeStyle:function(){return"width: calc("+100/Object.keys(this.definition.zones).length+"% - 5px)"}},data:function(){return{items:{},showHidden:!1}},watch:{items:{handler:function(){var e={};for(var n in this.items){e[n]=[];var t,i=o(this.items[n]);try{for(i.s();!(t=i.n()).done;){var r=t.value;e[n].push(r.uid)}}catch(e){i.e(e)}finally{i.f()}}this.$emit("change",e)},deep:!0}},created:function(){this.definition.items&&this.refreshZones(this.definition.items)},methods:{fetchFields:function(e){var n=this,t="themes/ajax/view-modes/displays/"+e;axios.post(Craft.getCpUrl(t)).then((function(e){n.refreshZones(e.data.displays.map((function(e){return{uid:e.uid,name:e.item.name,hidden:e.item.hidden||e.item.visuallyHidden}})))})).catch((function(e){n.handleError(e)}))},refreshZones:function(e){for(var n in this.items={},this.definition.zones)this.items[n]=[];var t,i=o(e);try{for(i.s();!(t=i.n()).done;){var r=t.value,s=this.findZone(r);s?this.items[s].push(r):this.items[this.definition.defaultZone].push(r)}}catch(e){i.e(e)}finally{i.f()}},findZone:function(e){for(var n in this.definition.zones)if(this.value&&this.value[n]&&this.value[n].includes(e.uid))return n;return!1}},mounted:function(){if(this.definition.itemsFrom){var e=this,n=this.definition.itemsFrom.split(":");$(n[0]).find(n[1]).change((function(){e.fetchFields($(this).val())}));var t=$(n[0]).find(n[1]).val();t&&this.fetchFields(t)}},components:{draggable:r.a},emits:["change"]}}))}});